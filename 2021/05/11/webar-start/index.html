<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="MleMoe"><meta name="copyright" content="MleMoe"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>WebAR èµ·æ­¥ | å’•</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"blog.mle.moe","root":"/","title":"é¸½å­çš„ä¸€ç™¾ç§åšæ³•","version":"1.5.2","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg"};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ WebAR æ–°æ‰‹æ•™ç¨‹ï¼Œå®ƒå°†æŒ‡å¯¼å¦‚ä½•ä½¿ç”¨ WebXR Device API + Vite + Vue åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ä¸ª WebAR demoï¼Œå¹¶é€šè¿‡ github çš„ gh-pages è¿›è¡Œéƒ¨ç½²ã€‚ æœ€ç»ˆçºªå¿µè·Ÿéšæ•™ç¨‹ï¼Œä½ æœ€ç»ˆä¼šå¾—åˆ°ç±»ä¼¼ä»¥ä¸‹ç‰©å“ï¼š  ä»£ç ï¼šgithub repo å±•ç¤ºï¼šdemo  ä½œç”¨å¯ä»¥æ˜¯ï¼Œåƒæˆ‘åœ¨ç¤¾åŒºæ‰“ç–«è‹—æ’é˜Ÿæ—¶ï¼Œç»™é˜³å…‰æš´æ™’çš„è·¯é¢ç§å‘æ—¥è‘µ å¼€å‘å‡†å¤‡ bash æˆ– zsh">
<meta property="og:type" content="article">
<meta property="og:title" content="WebAR èµ·æ­¥">
<meta property="og:url" content="https://blog.mle.moe/2021/05/11/webar-start/index.html">
<meta property="og:site_name" content="å’•">
<meta property="og:description" content="è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ WebAR æ–°æ‰‹æ•™ç¨‹ï¼Œå®ƒå°†æŒ‡å¯¼å¦‚ä½•ä½¿ç”¨ WebXR Device API + Vite + Vue åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ä¸ª WebAR demoï¼Œå¹¶é€šè¿‡ github çš„ gh-pages è¿›è¡Œéƒ¨ç½²ã€‚ æœ€ç»ˆçºªå¿µè·Ÿéšæ•™ç¨‹ï¼Œä½ æœ€ç»ˆä¼šå¾—åˆ°ç±»ä¼¼ä»¥ä¸‹ç‰©å“ï¼š  ä»£ç ï¼šgithub repo å±•ç¤ºï¼šdemo  ä½œç”¨å¯ä»¥æ˜¯ï¼Œåƒæˆ‘åœ¨ç¤¾åŒºæ‰“ç–«è‹—æ’é˜Ÿæ—¶ï¼Œç»™é˜³å…‰æš´æ™’çš„è·¯é¢ç§å‘æ—¥è‘µ å¼€å‘å‡†å¤‡ bash æˆ– zsh">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog.mle.moe/images/sunflower.jpeg">
<meta property="article:published_time" content="2021-05-11T13:20:04.000Z">
<meta property="article:modified_time" content="2021-05-23T11:37:22.357Z">
<meta property="article:author" content="MleMoe">
<meta property="article:tag" content="webar">
<meta property="article:tag" content="vite">
<meta property="article:tag" content="vue">
<meta property="article:tag" content="gh-pages">
<meta property="article:tag" content="æ•™ç¨‹">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.mle.moe/images/sunflower.jpeg"><script src="/js/ui/mode.js"></script></head><body><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="MleMoe"><img width="96" loading="lazy" src="/images/girl.jpeg" alt="MleMoe"><span class="site-author-status" title="æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">MleMoe</a></div><a class="site-name" href="/about/site.html">å’•</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">8</span></a></div><a class="site-state-item hty-icon-button" href="/" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/MleMoe" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=95501215" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:i@mle.moe" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E7%BA%AA%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">æœ€ç»ˆçºªå¿µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87"><span class="toc-number">2.</span> <span class="toc-text">å¼€å‘å‡†å¤‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">3.</span> <span class="toc-text">åŸºç¡€çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-WebAR-%EF%BC%9F"><span class="toc-number">3.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯ WebAR ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%89%8D%E7%8A%B6%E5%86%B5"><span class="toc-number">3.2.</span> <span class="toc-text">ç›®å‰çŠ¶å†µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91"><span class="toc-number">4.</span> <span class="toc-text">å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.</span> <span class="toc-text">é¡¹ç›®ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%8C%83%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">å¼€å‘èŒƒå¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%85%E5%8A%A9%E8%B5%84%E6%BA%90"><span class="toc-number">4.3.</span> <span class="toc-text">è¾…åŠ©èµ„æº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#code"><span class="toc-number">4.4.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2"><span class="toc-number">5.</span> <span class="toc-text">éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">5.1.</span> <span class="toc-text">æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-gh-pages-%E9%83%A8%E7%BD%B2"><span class="toc-number">5.2.</span> <span class="toc-text">é€šè¿‡ gh-pages éƒ¨ç½²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">6.</span> <span class="toc-text">å‚è€ƒ</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://blog.mle.moe/2021/05/11/webar-start/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="MleMoe"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="å’•"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">WebAR èµ·æ­¥</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-05-11 21:20:04" itemprop="dateCreated datePublished" datetime="2021-05-11T21:20:04+08:00">2021-05-11</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2021-05-23 19:37:22" itemprop="dateModified" datetime="2021-05-23T19:37:22+08:00">2021-05-23</time></div><div class="post-classify"><span class="post-tag"><a class="tag" href="/tags/webar/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">webar</span></a><a class="tag" href="/tags/vite/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">vite</span></a><a class="tag" href="/tags/vue/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">vue</span></a><a class="tag" href="/tags/gh-pages/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">gh-pages</span></a><a class="tag" href="/tags/%E6%95%99%E7%A8%8B/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">æ•™ç¨‹</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ WebAR æ–°æ‰‹æ•™ç¨‹ï¼Œå®ƒå°†æŒ‡å¯¼å¦‚ä½•ä½¿ç”¨ WebXR Device API + Vite + Vue åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ä¸ª WebAR demoï¼Œå¹¶é€šè¿‡ github çš„ gh-pages è¿›è¡Œéƒ¨ç½²ã€‚</p>
<h2 id="æœ€ç»ˆçºªå¿µ"><a href="#æœ€ç»ˆçºªå¿µ" class="headerlink" title="æœ€ç»ˆçºªå¿µ"></a>æœ€ç»ˆçºªå¿µ</h2><p>è·Ÿéšæ•™ç¨‹ï¼Œä½ æœ€ç»ˆä¼šå¾—åˆ°ç±»ä¼¼ä»¥ä¸‹ç‰©å“ï¼š</p>
<ul>
<li>ä»£ç ï¼š<a target="_blank" rel="noopener" href="https://github.com/MleMoe/webar-vue-demo">github repo</a></li>
<li>å±•ç¤ºï¼š<a target="_blank" rel="noopener" href="https://mlemoe.github.io/webar-vue-demo/">demo</a></li>
</ul>
<p><del>ä½œç”¨å¯ä»¥æ˜¯ï¼Œåƒæˆ‘åœ¨ç¤¾åŒºæ‰“ç–«è‹—æ’é˜Ÿæ—¶ï¼Œç»™é˜³å…‰æš´æ™’çš„è·¯é¢ç§å‘æ—¥è‘µ</del><br><img src="/images/sunflower.jpeg" alt="ğŸŒ»" loading="lazy"></p>
<h2 id="å¼€å‘å‡†å¤‡"><a href="#å¼€å‘å‡†å¤‡" class="headerlink" title="å¼€å‘å‡†å¤‡"></a>å¼€å‘å‡†å¤‡</h2><ul>
<li>bash æˆ– zsh</li>
<li>Node.js</li>
<li>npm æˆ– yarn æˆ– pnpm</li>
<li>vue</li>
<li>vite</li>
<li>vscode</li>
<li>git</li>
<li>ä¸€ä¸ª github è´¦æˆ·</li>
</ul>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="ä»€ä¹ˆæ˜¯-WebAR-ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-WebAR-ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ WebAR ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ WebAR ï¼Ÿ</h3><p>AR æ˜¯ä»‹äº VR å’Œç°å®ä¹‹é—´çš„è§†è§‰æŠ€æœ¯ï¼ŒVR å…¨æ˜¯è™šæ‹Ÿï¼ŒAR åˆ™ä¸ºå®+è™šã€‚<br>æ‰€ä»¥ AR è¢«å®šä¹‰ä¸ºä¸€ç§å°†è™šæ‹Ÿå¯¹è±¡ä¸ 3D ç¯å¢ƒå®æ—¶é›†æˆå¹¶æ”¯æŒäº¤äº’çš„æŠ€æœ¯ã€‚<br>ç®€å•æ¥è¯´å°±æ˜¯åœ¨çœŸå®åœºæ™¯å†…æ”¾ç½®è™šæ‹Ÿçš„ç‰©ä½“ï¼Œç”¨æˆ·é€šè¿‡çœ¼é•œæˆ–å…¶å®ƒæ˜¾ç¤ºè®¾å¤‡è§‚çœ‹è¯¥ç»“åˆåœºæ™¯ï¼Œæˆ–è¿›è¡Œä¸€äº›äº¤äº’ã€‚</p>
<p>WebAR åˆ™æ˜¯åœ¨ Web ä¸Šå®ç° AR çš„ä¸€ç§æ–¹å¼ã€‚</p>
<h3 id="ç›®å‰çŠ¶å†µ"><a href="#ç›®å‰çŠ¶å†µ" class="headerlink" title="ç›®å‰çŠ¶å†µ"></a>ç›®å‰çŠ¶å†µ</h3><p>åªè€ƒè™‘å•ç›®ç›¸æœºï¼ˆä¹Ÿå°±æ˜¯æ™®é€šç›¸æœºï¼‰</p>
<ul>
<li><p>è€å‰è¾ˆ AR.js</p>
<ul>
<li>ARToolKitï¼Œ1999 å¹´ï¼Œç¬¬ä¸€ä¸ª AR SDKï¼Œç”±<a target="_blank" rel="noopener" href="http://hitl.washington.edu/artoolkit/">åç››é¡¿å¤§å­¦</a>å¼€å‘ã€‚ä¾ç…§å›¾å½¢çš„ä»¿å°„ä¸å˜æ€§åŸç†ï¼Œä»…æ”¯æŒåŸºå‡†æ ‡è®°ï¼Œå› ä¸ºå®ƒé€šè¿‡è¯†åˆ«ç‰¹å®šå¹³é¢ marker å¯¹ç›¸æœºä½å§¿è¿½è¸ªï¼Œä»…æ¶‰åŠç®€å•çš„çŸ©é˜µè¿ç®—ï¼Œæ‰€ä»¥é€Ÿåº¦æå¿«ã€‚</li>
<li>JSARToolKit5ï¼ŒåŸºäº ARToolKit å®ç°</li>
<li>AR.jsï¼Œ2017 å¹´<br>AR.js æ˜¯ä¸€ä¸ªåŸºäº Three.js å’Œ JSARToolKit5 çš„ Web AR è§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥åœ¨æ‰€æœ‰å¹³å°ä¸Šä»¥åŠå…·æœ‰ WebRTC å’Œ WebGL çš„ä»»ä½•æµè§ˆå™¨ä¸Šè¿è¡Œã€‚<br>è‹¥æœ‰å…´è¶£ï¼Œå¯çœ‹ <a target="_blank" rel="noopener" href="https://stemkoski.github.io/AR-Examples/">AR.js-Examples</a></li>
<li>ç›®å‰é™¤å®ç°ç‰¹å®š marker å¤–ï¼Œè¿˜æ”¯æŒè‡ªç„¶ç‰¹å¾ï¼ˆå³å›¾åƒï¼‰å’Œ locationï¼Œä½†å¯¹ markerless çš„æ”¯æŒä¸å¤Ÿï¼Œä¸è¿‡è¿™ä¹Ÿæ˜¯å®ƒçš„åŸºæœ¬ç‰¹æ€§ï¼ˆæ”¯æŒåŸºå‡†æ ‡è®°ï¼‰å†³å®šçš„ã€‚</li>
</ul>
</li>
<li><p>three.ar.js<br>åŸºäº <a target="_blank" rel="noopener" href="https://github.com/google-ar/WebARonARKit">WebARonARKit</a>ï¼ˆios ARKitï¼‰ å’Œ <a target="_blank" rel="noopener" href="https://github.com/google-ar/WebARonARCore">WebARonARCore</a>ï¼ˆAndroid ARCoreï¼‰ï¼Œåˆ†åˆ«ä¸º google åœ¨ ARKit å’Œ ARCore åŸºç¡€ä¸Šå®ç°çš„ web å°è£…ã€‚<br>å°±æ˜¯è°·æ­Œ+æ‰‹æœº AR å¥—ä»¶+three.js<br>é¡¹ç›®åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/google-ar/three.ar.js">google-ar/three.ar.js</a><br>æœ€æ–°çš„æ›´æ–°æ˜¯åœ¨ä¸‰å¹´å‰ï¼Œå¾ˆæ˜æ˜¾è°·æ­Œé¸½äº†å¤§å®¶</p>
<blockquote>
<p>æœ‰è€å“¥åœ¨ three.ar.js ä»“åº“æ issue <a target="_blank" rel="noopener" href="https://github.com/google-ar/three.ar.js/issues/127">#127</a><br>is it depreacated?<br>I guess it is</p>
</blockquote>
</li>
<li><p>æ­£åœ¨è¿›è¡Œä¸­çš„ <a target="_blank" rel="noopener" href="https://www.w3.org/immersive-web/">W3C WebXR Device API å·¥ä½œç»„</a><br>WebXRï¼Œå³ WebVR + WebARã€‚<br>è¯¥å·¥ä½œç»„å¿—åœ¨æè¿°è®¿é—® Web ä¸Šçš„ VR å’Œ AR è®¾å¤‡çš„æ”¯æŒè§„èŒƒã€‚å³ä½¿ç”¨ Web æ¥å£ï¼Œç”¨ Web ç¼–ç¨‹çš„æ–¹å¼ï¼Œè®©åœ¨ Web çš„ WebXR è®¾å¤‡è¿è¡Œ XRã€‚<br>ç›®å‰æ”¯æŒè®¾å¤‡ï¼š<br>æ”¯æŒ AR Core çš„å®‰å“æ‰‹æœºï¼Œå®‰å“ç‰ˆ chrome æµè§ˆå™¨ï¼ˆç‰ˆæœ¬ 81+ï¼‰ï¼Œæˆ– chrome canaryã€‚<br>éœ€åœ¨åœ°å€æ è¾“å…¥ chrome://flagsï¼Œæœç´¢ webxrï¼Œæ‰¾åˆ° WebXR incubationsï¼Œè®¾ç½®ä¸ºå¯ç”¨çŠ¶æ€</p>
</li>
</ul>
<p>æˆ‘ä»¬è¿™é‡Œé€‰ç”¨ç¬¬ä¸‰ç§ï¼Œå› ä¸ºæ˜¯ markerlessï¼Œä¸”æ˜¯é¢å‘æœªæ¥çš„ Web è§„èŒƒã€‚</p>
<h2 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h2><h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><p>vite + vue é¡¹ç›®èµ·æ­¥å…·ä½“ä»‹ç»å¯å‚è€ƒäº‘æ¸¸å›åŒå­¦çš„ <a target="_blank" rel="noopener" href="https://www.yunyoujun.cn/posts/vue-d3-demo/">vue-d3-demo</a>ï¼Œè¿™é‡ŒåªæŒ‰æ­¥æ‰§è¡Œå‘½ä»¤ã€‚</p>
<p>é¦–å…ˆï¼Œåˆå§‹åŒ– vite é¡¹ç›®ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> init vite-app webar-vue-demo
<span class="token comment"># or</span>
<span class="token comment"># yarn create vite-app webar-vue-demo</span>

<span class="token builtin class-name">cd</span> webar-vue-demo

<span class="token comment"># å®‰è£…ä¾èµ–</span>
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token comment"># or</span>
<span class="token comment"># yarn</span>

<span class="token comment"># å¯åŠ¨é¡¹ç›®ï¼Œé»˜è®¤åœ°å€ä¸º http://localhost:3000</span>
<span class="token function">npm</span> run dev
<span class="token comment"># or</span>
<span class="token comment"># yarn dev</span>
</code></pre>

<p>å¦‚æ­¤ï¼Œé¡¹ç›®æ¡†æ¶å°±æ­èµ·æ¥äº†ã€‚</p>
<h3 id="å¼€å‘èŒƒå¼"><a href="#å¼€å‘èŒƒå¼" class="headerlink" title="å¼€å‘èŒƒå¼"></a>å¼€å‘èŒƒå¼</h3><p>å…ˆæ¥ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ WebXR Device API çš„åº”ç”¨ç¨‹åºéµå¾ªç±»ä¼¼çš„ä½¿ç”¨æ¨¡å¼ï¼š</p>
<ul>
<li><p>è°ƒç”¨<code>navigator.xr.isSessionSupported(mode)</code>ä»¥ç¡®å®šè®¾å¤‡æ˜¯å¦æ”¯æŒè¯¥ XR å†…å®¹ç±»å‹ï¼Œå¹¶å‘ŠçŸ¥ç”¨æˆ·ç»“æœ</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> supported <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>xr<span class="token punctuation">.</span><span class="token function">isSessionSupported</span><span class="token punctuation">(</span><span class="token string">"immersive-ar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>supported<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 'immersive-ar' sessions may be supported.</span>
  <span class="token comment">// Page should advertise support to the user.</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 'immersive-ar' sessions are not supported.</span>
<span class="token punctuation">&#125;</span></code></pre>
</li>
<li><p>ç”¨æˆ·ç‚¹å‡»å¼€å§‹æŒ‰é’®ï¼ˆå³æ¿€æ´»äº‹ä»¶ï¼‰ï¼Œä½¿ç”¨<code>navigator.xr.requestSession(mode, options)</code> è¯·æ±‚ <code>XRSession</code>ï¼Œ</p>
</li>
<li><p>ä½¿ç”¨ <code>XRSession</code> è¿è¡Œå¸§å¾ªç¯ä»¥å“åº” XR è¾“å…¥ï¼Œå¹¶ç”Ÿæˆå›¾åƒä»¥ä½œä¸ºå“åº”æ˜¾ç¤ºåœ¨ XR è®¾å¤‡ä¸Šã€‚</p>
</li>
<li><p>ç»§ç»­è¿è¡Œå¸§å¾ªç¯ã€‚ç›´åˆ°æµè§ˆå™¨å…³é—­ä¼šè¯ï¼Œæˆ–ç”¨æˆ·æŒ‡ç¤ºè¦é€€å‡º XR å†…å®¹ä¸ºæ­¢ã€‚</p>
</li>
</ul>
<h3 id="è¾…åŠ©èµ„æº"><a href="#è¾…åŠ©èµ„æº" class="headerlink" title="è¾…åŠ©èµ„æº"></a>è¾…åŠ©èµ„æº</h3><p>åœ¨ src è·¯å¾„ä¸‹æ–°å»º webar æ–‡ä»¶å¤¹ï¼Œæ”¾ç½®ç”± <a target="_blank" rel="noopener" href="https://github.com/immersive-web">Immersive Web at W3C</a> æä¾›çš„ webxr çš„è¾…åŠ©å·¥å…·ï¼Œå¯ä»¥çœå»æˆ‘ä»¬çš„ä¸€äº›åŠŸå¤«ã€‚<br>åœ¨ componets è·¯å¾„ä¸‹æ–°å»º BasicAR.vue ç»„ä»¶ï¼Œåœ¨ App.vue ä¸­ä½¿ç”¨è¯¥ç»„ä»¶ã€‚</p>
<p>åœ¨ public ä¸‹æ–°å»º gltf æ–‡ä»¶å¤¹ï¼Œæ”¾ç½®ç”¨åˆ°çš„æ ‡çº¿å’Œå‘æ—¥è‘µæ¨¡å‹ã€‚</p>
<p>å…¶ä¸Šæ–‡ä»¶å¯åœ¨æ–‡æ¡£å¼€å§‹æ”¾å‡ºçš„ github ä»“åº“é‡Œè·å–ã€‚</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><p>components/BasicAR.vue</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>header<span class="token operator">></span>
    <span class="token operator">&lt;</span>h1<span class="token operator">></span>Web <span class="token constant">AR</span> æµ‹è¯•<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span>éœ€å¾€å››å‘¨ç§»åŠ¨æ‘„åƒå¤´ï¼Œç­‰å¾…æ•°ç§’ï¼Œä»¥å­¦ä¹ å‘¨å›´ç¯å¢ƒçŸ¥è¯†ã€‚<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span>
      ã€æ”¯æŒè®¾å¤‡ã€‘ï¼šå®‰å“ chrome æµè§ˆå™¨ï¼ˆç‰ˆæœ¬<span class="token number">81</span><span class="token operator">+</span>ï¼‰æˆ– chrome canaryã€‚ æœç´¢
      chrome<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>flagsï¼Œå°† WebXR incubationsï¼Œè®¾ä¸ºå¯ç”¨
    <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"btn-container"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> WebXRButton <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../webar/js/util/webxr-button.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Scene <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../webar/js/render/scenes/scene.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>
  Renderer<span class="token punctuation">,</span>
  createWebGLContext<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../webar/js/render/core/renderer.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Node <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../webar/js/render/core/node.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Gltf2Node <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../webar/js/render/nodes/gltf2.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> DropShadowNode <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../webar/js/render/nodes/drop-shadow.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> vec3 <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../webar/js/render/math/gl-matrix.js"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"BasicAR"</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> xrButton <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// æç¤ºæŒ‰é’®</span>
    <span class="token keyword">let</span> xrRefSpace <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// ç”¨äºç»˜åˆ¶çš„å‚è€ƒç©ºé—´ï¼Œthe XRReferenceSpace can be used to establish a spatial relationship with the userâ€™s physical environment.</span>
    <span class="token keyword">let</span> xrViewerSpace <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// ç”¨äºå‘½ä¸­æµ‹è¯•çš„å‚è€ƒç©ºé—´</span>
    <span class="token keyword">let</span> xrHitTestSource <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// å‘½ä¸­æµ‹è¯•æ§åˆ¶å¥æŸ„</span>

    <span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">enableStats</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> arObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//nodeï¼Œç”¨äºæ”¾ç½®èŠ±èŠ‚ç‚¹</span>
    arObject<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>arObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> flower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gltf2Node</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> url<span class="token operator">:</span> <span class="token string">"gltf/sunflower/sunflower.gltf"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// èŠ±</span>
    arObject<span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>flower<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> shadow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DropShadowNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç»™èŠ±groupåˆ›é€ é˜´å½±</span>
    vec3<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>shadow<span class="token punctuation">.</span>scale<span class="token punctuation">,</span> <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arObject<span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>shadow<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token constant">MAX_FLOWERS</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">// æœ€å¤§èŠ±æ•°é‡</span>
    <span class="token keyword">let</span> flowers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// nodeæ•°ç»„ï¼Œç”¨æ¥æš‚å­˜èŠ±å¯¹è±¡çš„å¼•ç”¨</span>

    <span class="token keyword">let</span> reticle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gltf2Node</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> url<span class="token operator">:</span> <span class="token string">"gltf/reticle/reticle.gltf"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ‡çº¿å›¾åƒ</span>
    reticle<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>reticle<span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token punctuation">.</span>clear <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// èƒŒæ™¯é€æ˜ï¼ŒARéœ€è¦å®ç°3Dç‰©ä½“ä¸ç°å®åœºæ™¯ç»“åˆ</span>

    <span class="token comment">/**
     * åˆå§‹åŒ– XR å†…å®¹
     */</span>
    <span class="token keyword">function</span> <span class="token function">initXR</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// æç¤ºæŒ‰é’®</span>
      xrButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebXRButton</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        onRequestSession<span class="token operator">:</span> onRequestSession<span class="token punctuation">,</span> <span class="token comment">// è¯·æ±‚ä¼šè¯</span>
        onEndSession<span class="token operator">:</span> onEndSession<span class="token punctuation">,</span> <span class="token comment">//ç»ˆæ­¢ä¼šè¯</span>
        textEnterXRTitle<span class="token operator">:</span> <span class="token string">"å¼€å§‹ AR"</span><span class="token punctuation">,</span>
        textXRNotFoundTitle<span class="token operator">:</span> <span class="token string">"æ­¤è®¾å¤‡ä¸æ”¯æŒAR"</span><span class="token punctuation">,</span>
        textExitXRTitle<span class="token operator">:</span> <span class="token string">"é€€å‡º AR"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#btn-container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>xrButton<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†æç¤ºæŒ‰é’®åŠ å…¥domä¸­</span>
      <span class="token comment">// è‹¥æµè§ˆå™¨æ”¯æŒ navigator.xrï¼Œå³æ‹¥æœ‰ the XRSystem object</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>xr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// åˆ¤æ–­è®¾å¤‡å’Œæµè§ˆå™¨æ˜¯å¦æ”¯æŒè¯¥ XR ç±»å‹ï¼Œè¿™é‡Œæ˜¯ immersive-ar</span>
        navigator<span class="token punctuation">.</span>xr<span class="token punctuation">.</span><span class="token function">isSessionSupported</span><span class="token punctuation">(</span><span class="token string">"immersive-ar"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">supported</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          xrButton<span class="token punctuation">.</span>enabled <span class="token operator">=</span> supported<span class="token punctuation">;</span> <span class="token comment">// æ ¹æ®æ£€æµ‹ç»“æœè®¾å®šæ˜¯å¦æ”¯æŒ</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * è¯·æ±‚ä¼šè¯
     */</span>
    <span class="token keyword">function</span> <span class="token function">onRequestSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> navigator<span class="token punctuation">.</span>xr
        <span class="token punctuation">.</span><span class="token function">requestSession</span><span class="token punctuation">(</span><span class="token string">"immersive-ar"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
          requiredFeatures<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"local"</span><span class="token punctuation">,</span> <span class="token string">"hit-test"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">session</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          xrButton<span class="token punctuation">.</span><span class="token function">setSession</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½® AR Session</span>
          <span class="token function">onSessionStarted</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * å¼€å§‹ä¼šè¯
     */</span>
    <span class="token keyword">function</span> <span class="token function">onSessionStarted</span><span class="token punctuation">(</span><span class="token parameter">session</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      session<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"end"</span><span class="token punctuation">,</span> onSessionEnded<span class="token punctuation">)</span><span class="token punctuation">;</span>
      session<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"select"</span><span class="token punctuation">,</span> onSelect<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ selectäº‹ä»¶ç›‘å¬å™¨ã€‚å½“ç”¨æˆ·ç‚¹å‡»å±å¹•æ—¶ï¼Œå°†åŸºäºæ ‡çº¿çš„ä½ç½®å°†èŠ±æœµæ”¾ç½®åœ¨ç›¸æœºè§†å›¾ä¸­ã€‚</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>gl<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        gl <span class="token operator">=</span> <span class="token function">createWebGLContext</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
          xrCompatible<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®æ¸²æŸ“å™¨</span>
        renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Renderer</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        scene<span class="token punctuation">.</span><span class="token function">setRenderer</span><span class="token punctuation">(</span>renderer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
      session<span class="token punctuation">.</span><span class="token function">updateRenderState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> baseLayer<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XRWebGLLayer</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> gl<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è¯¥å‚è€ƒç©ºé—´ç”¨äºå‘½ä¸­æµ‹è¯•ï¼Œè¦æµ‹é‡ä¸æ§åˆ¶å™¨çš„è·ç¦»ï¼Œå¯ä»¥ä½¿ç”¨ä»¥æ§åˆ¶å™¨ä¸ºä¸­å¿ƒçš„å‚è€ƒç³»</span>
      <span class="token comment">// å…¶åŸå§‹ä½ç½®è·Ÿè¸ªæŸ¥çœ‹è€…çš„ä½ç½®å’Œæ–¹å‘ã€‚å®ƒç”¨äºç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­è¿›è¡Œç‰©ç†ç§»åŠ¨çš„ç¯å¢ƒ</span>
      session<span class="token punctuation">.</span><span class="token function">requestReferenceSpace</span><span class="token punctuation">(</span><span class="token string">"viewer"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">refSpace</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        xrViewerSpace <span class="token operator">=</span> refSpace<span class="token punctuation">;</span>
        session
          <span class="token punctuation">.</span><span class="token function">requestHitTestSource</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> space<span class="token operator">:</span> xrViewerSpace <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">hitTestSource</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            xrHitTestSource <span class="token operator">=</span> hitTestSource<span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// åœ¨å±å¹•ä¸Šç»˜åˆ¶æŸäº›å†…å®¹ï¼Œéœ€ä½¿ç”¨ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„åæ ‡</span>
      <span class="token comment">// The requestReferenceSpace(type) method constructs a new XRReferenceSpace of a given type</span>
      <span class="token comment">// local ç±»å‹ï¼Œåˆ›å»ºä¼šè¯æ—¶å…¶åŸå§‹ä½ç½®ä½äºæŸ¥çœ‹è€…ä½ç½®é™„è¿‘çš„è·Ÿè¸ªç©ºé—´ã€‚ç¡®åˆ‡ä½ç½®å–å†³äºåŸºç¡€å¹³å°å’Œå®ç°ã€‚ç”¨æˆ·ä¸ä¼šç§»åŠ¨å¤ªå¤šï¼Œç”šè‡³ä¸ä¼šè¶…å‡ºä»–ä»¬çš„èµ·å§‹ä½ç½®ã€‚æ‰€ä»¥ç”¨æ¥ç»˜åˆ¶æ¨¡å‹</span>
      session<span class="token punctuation">.</span><span class="token function">requestReferenceSpace</span><span class="token punctuation">(</span><span class="token string">"local"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">refSpace</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        xrRefSpace <span class="token operator">=</span> refSpace<span class="token punctuation">;</span>
        <span class="token comment">// å¼€å§‹å¸§å¾ªç¯</span>
        session<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>onXRFrame<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * ç»“æŸä¼šè¯
     */</span>
    <span class="token keyword">function</span> <span class="token function">onEndSession</span><span class="token punctuation">(</span><span class="token parameter">session</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      xrHitTestSource<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      xrHitTestSource <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      session<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">function</span> <span class="token function">onSessionEnded</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      xrButton<span class="token punctuation">.</span><span class="token function">setSession</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * é€‰æ‹©äº‹ä»¶å›è°ƒå‡½æ•°
     */</span>
    <span class="token keyword">function</span> <span class="token function">onSelect</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>reticle<span class="token punctuation">.</span>visible<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">addARObjectAt</span><span class="token punctuation">(</span>reticle<span class="token punctuation">.</span>matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">/**
     * å°†ä¸€æœµæ–°èŠ±åŠ å…¥åœºæ™¯
     */</span>
    <span class="token keyword">function</span> <span class="token function">addARObjectAt</span><span class="token punctuation">(</span><span class="token parameter">matrix</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> newFlower <span class="token operator">=</span> arObject<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      newFlower<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      newFlower<span class="token punctuation">.</span>matrix <span class="token operator">=</span> matrix<span class="token punctuation">;</span>
      scene<span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>newFlower<span class="token punctuation">)</span><span class="token punctuation">;</span>
      flowers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newFlower<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>flowers<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token constant">MAX_FLOWERS</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> oldFlower <span class="token operator">=</span> flowers<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scene<span class="token punctuation">.</span><span class="token function">removeNode</span><span class="token punctuation">(</span>oldFlower<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * æ¯æ¬¡ç»˜åˆ¶ä¸€å¸§æ—¶è°ƒç”¨
     */</span>
    <span class="token keyword">function</span> <span class="token function">onXRFrame</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> frame</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// è·å–ARä¼šè¯</span>
      <span class="token keyword">let</span> session <span class="token operator">=</span> frame<span class="token punctuation">.</span>session<span class="token punctuation">;</span>
      <span class="token comment">// è·å–æ¸²æŸ“æ‰€éœ€ä½å§¿</span>
      <span class="token keyword">let</span> pose <span class="token operator">=</span> frame<span class="token punctuation">.</span><span class="token function">getViewerPose</span><span class="token punctuation">(</span>xrRefSpace<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// å°†ä¸Šä¸€ä¸ªæ ‡çº¿éšå»</span>
      reticle<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token comment">// å¦‚æœå‘½ä¸­æµ‹è¯•æºéƒ½å­˜åœ¨ï¼Œåˆ™ç”¨æ‘„åƒæœºä½å§¿ä¿¡æ¯åœ¨åœºæ™¯ä¸­æ˜¾ç¤ºæ ‡çº¿ã€‚è¦åœ¨ARä¸­ç»˜åˆ¶ä»»ä½•å†…å®¹ï¼Œéœ€è¦çŸ¥é“è§‚çœ‹è€…åœ¨å“ªé‡Œä»¥åŠå…¶è§‚å¯Ÿæ–¹å‘</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>xrHitTestSource <span class="token operator">&amp;&amp;</span> pose<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// è·å–å‘½ä¸­æµ‹è¯•ç»“æœï¼Œè¿”å›å¹³é¢æ•°æ®æ•°ç»„</span>
        <span class="token comment">// æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªæ˜¯è·ç¦»ç›¸æœºæœ€è¿‘çš„é‚£ä¸ªã€‚å¦‚æœæ²¡æœ‰è¿”å›å‘½ä¸­ç»“æœï¼Œåˆ™ç»§ç»­åœ¨ä¸‹ä¸€å¸§ä¸­å†è¯•ä¸€æ¬¡ã€‚</span>
        <span class="token keyword">let</span> hitTestResults <span class="token operator">=</span> frame<span class="token punctuation">.</span><span class="token function">getHitTestResults</span><span class="token punctuation">(</span>xrHitTestSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>hitTestResults<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token comment">// ä»æœ€è¿‘çš„å‘½ä¸­æµ‹è¯•ç»“æœä¸­è·å–å§¿åŠ¿ï¼Œå°†æ ‡çº¿å›¾åƒè½¬æ¢ï¼ˆç§»åŠ¨ï¼‰åˆ°å‘½ä¸­æµ‹è¯•ä½ç½®ï¼Œç„¶åå°†å…¶visibleå±æ€§è®¾ç½®ä¸ºtrueã€‚</span>
          <span class="token comment">// å§¿åŠ¿è¡¨ç¤ºè¡¨é¢ä¸Šç‚¹çš„å§¿åŠ¿ã€‚</span>
          <span class="token keyword">let</span> pose <span class="token operator">=</span> hitTestResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getPose</span><span class="token punctuation">(</span>xrRefSpace<span class="token punctuation">)</span><span class="token punctuation">;</span>
          reticle<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          reticle<span class="token punctuation">.</span>matrix <span class="token operator">=</span> pose<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>matrix<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
      scene<span class="token punctuation">.</span><span class="token function">startFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      session<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>onXRFrame<span class="token punctuation">)</span><span class="token punctuation">;</span>
      scene<span class="token punctuation">.</span><span class="token function">drawXRFrame</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span> pose<span class="token punctuation">)</span><span class="token punctuation">;</span>
      scene<span class="token punctuation">.</span><span class="token function">endFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">initXR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>
header <span class="token punctuation">&#123;</span>
  z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
  display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  flex<span class="token operator">-</span>direction<span class="token operator">:</span> column<span class="token punctuation">;</span>
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
  max<span class="token operator">-</span>width<span class="token operator">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
  margin<span class="token operator">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

header h1 <span class="token punctuation">&#123;</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

header div <span class="token punctuation">&#123;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

canvas <span class="token punctuation">&#123;</span>
  position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
  z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  height<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  right<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  bottom<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  margin<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  touch<span class="token operator">-</span>action<span class="token operator">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre>

<p>åœ¨ App.vue ä¸­ä½¿ç”¨ BasicAR ç»„ä»¶</p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>BasicAR <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword">import</span> BasicAR <span class="token keyword">from</span> <span class="token string">"./components/BasicAR.vue"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"App"</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    BasicAR<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>è¿è¡Œ WebXR æœ‰é¢å¤–çš„å®‰å…¨è¦æ±‚ï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹æè¿°ï¼Œå³åªèƒ½ä½¿ç”¨ <a target="_blank" rel="noopener" href="http://localhost/">http://localhost/</a> å’Œ https é“¾æ¥åŠ è½½ WebXR å†…å®¹ã€‚</p>
<blockquote>
<p>A WebXR compatible environment starts with a securely-loaded document. Your document needs to either have been loaded from the local drive (such as by using an URL such as <a target="_blank" rel="noopener" href="http://localhost/">http://localhost/</a>â€¦), or using HTTPS when loading the page. The JavaScript code must, likewise, have been loaded securely.</p>
</blockquote>
<p>å› ä¸ºæˆ‘ä»¬æ˜¯åœ¨ pc ä¸Šå¼€å‘ï¼Œpc æ²¡æœ‰å¯ä¾›æµ‹è¯•ç”¨çš„ WebAR è®¾å¤‡ï¼Œä½¿ç”¨ <a target="_blank" rel="noopener" href="http://localhost/">http://localhost/</a> æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚</p>
<p>æœ‰ä¸¤ç§æ¯”è¾ƒæ–¹ä¾¿çš„è§£å†³åŠæ³•ï¼Œåˆ†åˆ«æ˜¯</p>
<ul>
<li>æµ‹è¯•ï¼šæ‰‹æœº chrome æµè§ˆå™¨ä¸­æŠŠæˆ‘ä»¬çš„ <a href="http://ip:port">http://ip:port</a> è®¾ä¸ºå®‰å…¨æ¥æº</li>
<li>éƒ¨ç½²ï¼šä½¿ç”¨ gh-pages éƒ¨ç½²æ‹¿åˆ°ä¸€ä¸ª https é“¾æ¥ã€‚</li>
</ul>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>å°† pc ä¸æ‰‹æœºç½®äºåŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹ï¼Œæ‰§è¡Œ <code>npm run dev</code> å‘½ä»¤å¯åŠ¨é¡¹ç›®åï¼ŒTerminal ä¼šå‡ºç°å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">Dev server running at:
 <span class="token operator">></span> Local:    http://localhost:3000/
 <span class="token operator">></span> Network:  http://your-ipv4-address:3000/</code></pre>

<p>åœ¨æ‰‹æœº chrome ä¸­æœç´¢æ‰“å¼€ chrome://flagsï¼Œæœç´¢ Insecure origins treated as secureï¼Œè®¾ç½®æˆ Enabled çŠ¶æ€ï¼Œå¹¶åœ¨å…¶ä¸Šçš„æ–‡æœ¬æ¡†å†…è¾“å…¥ <code>http://your-ipv4-address:3000/</code>ï¼Œrelaunch ä¸€ä¸‹ chromeï¼Œå°±èƒ½ä½¿ç”¨è¯¥æµ‹è¯•é“¾æ¥æŸ¥çœ‹ AR å†…å®¹äº†ã€‚</p>
<h3 id="é€šè¿‡-gh-pages-éƒ¨ç½²"><a href="#é€šè¿‡-gh-pages-éƒ¨ç½²" class="headerlink" title="é€šè¿‡ gh-pages éƒ¨ç½²"></a>é€šè¿‡ gh-pages éƒ¨ç½²</h3><p>æˆ‘ä»¬å¯ä»¥å°†é¡¹ç›®éƒ¨ç½²åˆ° github çš„ gh-pagesï¼Œè¿™æ ·è™½ç„¶æœ‰ç‚¹éº»çƒ¦ï¼Œä½†æ˜¯ä»æ–°å»ºé¡¹ç›®åˆ°éƒ¨ç½²é¡¹ç›®æ˜¯ä¸€ä¸ªå®Œå¤‡çš„æµç¨‹ï¼Œå­¦ä¹ ä¸€ä¸‹ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚</p>
<p>å…ˆåœ¨ github æ–°å»ºä¸€ä¸ª webar-vue-demo ä»“åº“ï¼Œä¾ç…§æç¤ºæŠŠæœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“è¿æ¥èµ·æ¥ã€‚<br>ç„¶åç”Ÿæˆéœ€éƒ¨ç½²çš„é™æ€æ–‡ä»¶ã€‚å¦‚æœä½ æ­£åœ¨åµŒå¥—çš„å…¬å…±è·¯å¾„ä¸‹éƒ¨ç½²é¡¹ç›®ï¼ˆä¾‹å¦‚è¦éƒ¨ç½²åœ¨ <code>https://USERNAME.github.io/REPO/</code>ï¼Œå³æŸä¸ªä»“åº“çš„ gh-pages åˆ†æ”¯ä¸‹ï¼‰ï¼Œéœ€è¦ä¿®æ”¹èµ„æºè·¯å¾„ã€‚</p>
<ul>
<li><p>å¯ä»¥ç®€å•æŒ‡å®šä¸€ä¸ª build.base é…ç½®é¡¹ï¼Œç„¶åæ‰€æœ‰èµ„æºçš„è·¯å¾„éƒ½å°†æ®æ­¤é‡å†™ã€‚</p>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// vite.config.js</span>
export default <span class="token punctuation">&#123;</span>
  <span class="token comment">// é…ç½®é€‰é¡¹</span>
  base<span class="token operator">:</span> <span class="token string">"/webar-vue-demo/"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>;</code></pre>
</li>
<li><p>è¿™ä¸ªé€‰é¡¹ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šï¼Œä¾‹å¦‚ <code>vite build --base=/my/public/path/</code>ï¼Œæˆ–è€…ç›´æ¥ä¿®æ”¹ packages.jsonï¼Œ<code>&quot;build&quot;: &quot;vite build --base=/my/public/path/&quot;</code></p>
</li>
</ul>
<p>åœ¨é¡¹ç›®ä¸­ï¼ˆé€šå¸¸æ˜¯åœ¨æ ¹ç›®å½•ä¸‹ï¼‰åˆ›å»ºä¸€ä¸ª deploy.sh è„šæœ¬ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼Œè¿è¡Œå®ƒï¼ˆä½¿ç”¨ <code>sh deploy.sh</code>ï¼‰æ¥éƒ¨ç½²ç«™ç‚¹</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># å‘ç”Ÿä»»ä½•é”™è¯¯æ—¶ç»ˆæ­¢</span>
<span class="token builtin class-name">set</span> -e

<span class="token comment"># æ„å»º</span>
<span class="token function">npm</span> run build

<span class="token comment"># è¿›å…¥è¾“å‡ºäº§ç‰©æ–‡ä»¶å¤¹</span>
<span class="token builtin class-name">cd</span> dist

<span class="token comment"># ç¦ç”¨ jekyll</span>
<span class="token function">touch</span> .nojekyll

<span class="token comment"># å¦‚æœä½ è¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸå</span>
<span class="token comment"># echo 'www.example.com' > CNAME</span>

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token comment"># å¦‚æœä½ è¦éƒ¨ç½²åœ¨ https://&lt;USERNAME>.github.ioã€‚è§†æƒ…å†µ master æ”¹ä¸º main</span>
<span class="token comment"># git push -f git@github.com:&lt;USERNAME>/&lt;USERNAME>.github.io.git master</span>

<span class="token comment"># å¦‚æœä½ è¦éƒ¨ç½²åœ¨ https://&lt;USERNAME>.github.io/&lt;REPO></span>
<span class="token comment"># æŠŠæœ¬åœ°masteråˆ†æ”¯çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹çš„gh-pagesã€‚å¦‚æœè¿œç¨‹æ²¡æœ‰gh-pagesåˆ†æ”¯çš„è¯ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºè¯¥åˆ†æ”¯ã€‚</span>
<span class="token comment"># git push -f git@github.com:&lt;USERNAME>/&lt;REPO>.git master:gh-pages</span>

<span class="token builtin class-name">cd</span> -</code></pre>

<p>æ³¨æ„äº‹é¡¹ï¼š<br>èµ„æºæ–‡ä»¶å¤¹å‰é¢ä¼šå¸¦ç€ä¸‹åˆ’çº¿ï¼Œæœ¬åœ°ä½¿ç”¨æ²¡æœ‰é—®é¢˜ï¼Œæäº¤åˆ° github ä¸Šé¢ï¼Œæƒ³ä½¿ç”¨ github pages çš„æ—¶å€™æç¤º 404ï¼ŒåŸå› ä¸º github pages é»˜è®¤ä½¿ç”¨çš„ jekyll æ¨¡ç‰ˆä¼šå¿½ç•¥ä¸‹åˆ’çº¿å¼€å¤´çš„æ–‡ä»¶ï¼Œæ‰€ä»¥è¦ç¦ç”¨ jekyll ã€‚ç¦ç”¨æ–¹æ³•å°±æ˜¯åœ¨é¡¹ç›® gh-pages æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªç©ºç™½æ–‡ä»¶ï¼Œå‘½åä¸ºï¼š.nojekyllã€‚å¯ä»¥åœ¨ main åˆ†æ”¯ public æ–‡ä»¶å¤¹ä¸‹æ”¾ç½®ä¸€ä¸ª.nojekyllï¼Œè¿™æ · build çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸‹ deploy.shï¼Œåœ¨ <code>cd dist</code> ä¹‹å <code>touch .nojekyll</code></p>
<p>å…·ä½“å¯çœ‹ <a target="_blank" rel="noopener" href="https://docs.github.com/cn/pages/getting-started-with-github-pages/about-github-pages">github docs: about-github-pages</a></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://immersive-web.github.io/webxr/">WebXR æ–‡æ¡£</a></li>
<li>WebXR å…¥é—¨åšå®¢<ul>
<li><a target="_blank" rel="noopener" href="https://web.dev/web-ar/">Augmented reality: You may already know it</a></li>
<li><a target="_blank" rel="noopener" href="https://web.dev/vr-comes-to-the-web/">Virtual reality comes to the web</a></li>
<li><a target="_blank" rel="noopener" href="https://web.dev/vr-comes-to-the-web-pt-ii/">Virtual reality comes to the web, part II</a></li>
<li><a target="_blank" rel="noopener" href="https://web.dev/ar-hit-test/">Positioning virtual objects in real-world views</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/immersive-web/webxr-samples">WebXR ç¤ºä¾‹</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/WebXR_Device_API/Startup_and_shutdown">WebXR_Device_API/Startup_and_shutdown</a></li>
<li><a target="_blank" rel="noopener" href="https://vitejs.bootcss.com/guide/static-deploy.html#github-pages">vite éƒ¨ç½²</a></li>
</ul>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/wx-pay.png"><img loading="lazy" src="/images/wx-pay.png" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>MleMoe</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blog.mle.moe/2021/05/11/webar-start/" title="WebAR èµ·æ­¥">https://blog.mle.moe/2021/05/11/webar-start/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/09/19/know-fe/" rel="prev" title="æˆ‘çš„å‰ç«¯è®¤çŸ¥"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">æˆ‘çš„å‰ç«¯è®¤çŸ¥</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/04/11/fe-writing/" rel="next" title="å…³äºè¯æ˜æˆ‘æ˜¯ä¸€å JS ç¨‹åºå‘˜è¿™ä»¶äº‹"><span class="post-nav-text">å…³äºè¯æ˜æˆ‘æ˜¯ä¸€å JS ç¨‹åºå‘˜è¿™ä»¶äº‹</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/MleMoe/blog/issues?q=is:issue+WebAR èµ·æ­¥">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> MleMoe</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.5.2</span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>